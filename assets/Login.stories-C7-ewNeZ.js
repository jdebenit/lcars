import{j as e}from"./jsx-runtime-DiklIkkE.js";import{r as o,R as j}from"./index-DRjF_FHU.js";import{u as b}from"./useTranslation-CxQ6l0w6.js";const p=o.createContext(void 0),h=({children:t})=>{const[i,n]=o.useState(null),d=async(r,u)=>r==="admin"&&u==="admin"?(n({username:r}),!0):!1,l=()=>{n(null)};return e.jsx(p.Provider,{value:{isAuthenticated:!!i,user:i,login:d,logout:l},children:t})},v=()=>{const t=o.useContext(p);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};h.__docgenInfo={description:"",methods:[],displayName:"AuthProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const N="_loginContainer_13gu9_1",y="_loginPanel_13gu9_10",w="_header_13gu9_33",P="_title_13gu9_38",C="_subtitle_13gu9_47",S="_form_13gu9_56",A="_inputGroup_13gu9_62",L="_label_13gu9_68",B="_input_13gu9_62",E="_loginButton_13gu9_97",G="_error_13gu9_129",I="_footer_13gu9_157",s={loginContainer:N,loginPanel:y,header:w,title:P,subtitle:C,form:S,inputGroup:A,label:L,input:B,loginButton:E,error:G,footer:I},_=()=>{const{t}=b(),{login:i}=v(),[n,d]=o.useState(""),[l,r]=o.useState(""),[u,g]=o.useState(""),[c,m]=o.useState(!1),x=async a=>{a.preventDefault(),g(""),m(!0);try{await i(n,l)||(g(t("login.error")),r(""))}catch{g(t("login.error")),r("")}finally{m(!1)}};return e.jsx("div",{className:s.loginContainer,children:e.jsxs("div",{className:s.loginPanel,children:[e.jsxs("div",{className:s.header,children:[e.jsx("h1",{className:s.title,children:t("login.title")}),e.jsx("p",{className:s.subtitle,children:t("login.subtitle")})]}),e.jsxs("form",{className:s.form,onSubmit:x,children:[e.jsxs("div",{className:s.inputGroup,children:[e.jsx("label",{className:s.label,htmlFor:"username",children:t("login.username")}),e.jsx("input",{id:"username",type:"text",className:s.input,value:n,onChange:a=>d(a.target.value),placeholder:t("login.usernamePlaceholder"),required:!0,autoFocus:!0,disabled:c})]}),e.jsxs("div",{className:s.inputGroup,children:[e.jsx("label",{className:s.label,htmlFor:"password",children:t("login.password")}),e.jsx("input",{id:"password",type:"password",className:s.input,value:l,onChange:a=>r(a.target.value),placeholder:t("login.passwordPlaceholder"),required:!0,disabled:c})]}),u&&e.jsx("div",{className:s.error,children:u}),e.jsx("button",{type:"submit",className:s.loginButton,disabled:c||!n||!l,children:t(c?"login.loggingIn":"login.loginButton")})]}),e.jsx("div",{className:s.footer,children:t("login.footer")})]})})};_.__docgenInfo={description:"",methods:[],displayName:"Login"};const T={title:"Modules/Login",component:_,parameters:{layout:"fullscreen"},tags:["autodocs"],decorators:[t=>e.jsx(j.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(h,{children:e.jsx(t,{})})})]},U=[];export{U as __namedExportsOrder,T as default};
