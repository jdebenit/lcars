import{j as a}from"./jsx-runtime-DiklIkkE.js";import{r as u}from"./index-DRjF_FHU.js";import{I as D}from"./Input-w3ltJOxH.js";const L="_autocompleteContainer_1ba39_1",R="_dropdown_1ba39_6",T="_suggestionList_1ba39_33",j="_suggestionItem_1ba39_39",k="_selected_1ba39_57",N="_suggestionLabel_1ba39_62",C="_suggestionType_1ba39_69",o={autocompleteContainer:L,dropdown:R,suggestionList:T,suggestionItem:j,selected:k,suggestionLabel:N,suggestionType:C},b=({suggestions:h,onSelect:g,onChange:r,maxSuggestions:v=10,value:i="",...w})=>{const[m,l]=u.useState(!1),[c,s]=u.useState(-1),d=u.useRef(null),E=u.useRef(null),n=h.filter(e=>e.label.toLowerCase().includes(String(i).toLowerCase())).slice(0,v);u.useEffect(()=>{const e=t=>{d.current&&!d.current.contains(t.target)&&(l(!1),s(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),u.useEffect(()=>{s(-1)},[n.length]);const I=e=>{const t=e.target.value;r==null||r(t),l(t.length>0),s(-1)},f=e=>{r==null||r(e.value),g==null||g(e),l(!1),s(-1)},x=e=>{if(!m||n.length===0){e.key==="ArrowDown"&&String(i).length>0&&l(!0);return}switch(e.key){case"ArrowDown":e.preventDefault(),s(t=>t<n.length-1?t+1:t);break;case"ArrowUp":e.preventDefault(),s(t=>t>0?t-1:-1);break;case"Enter":e.preventDefault(),c>=0&&c<n.length&&f(n[c]);break;case"Escape":e.preventDefault(),l(!1),s(-1);break}},A=()=>{String(i).length>0&&l(!0)};return a.jsxs("div",{ref:d,className:o.autocompleteContainer,children:[a.jsx(D,{...w,value:i,onChange:I,onKeyDown:x,onFocus:A,ref:E}),m&&n.length>0&&a.jsx("div",{className:o.dropdown,children:a.jsx("ul",{className:o.suggestionList,children:n.map((e,t)=>a.jsxs("li",{className:`${o.suggestionItem} ${t===c?o.selected:""}`,onClick:()=>f(e),onMouseEnter:()=>s(t),children:[a.jsx("span",{className:o.suggestionLabel,children:e.label}),e.type&&a.jsx("span",{className:o.suggestionType,children:e.type})]},`${e.value}-${t}`))})})]})};b.__docgenInfo={description:"",methods:[],displayName:"Autocomplete",props:{suggestions:{required:!0,tsType:{name:"Array",elements:[{name:"AutocompleteSuggestion"}],raw:"AutocompleteSuggestion[]"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(suggestion: AutocompleteSuggestion) => void",signature:{arguments:[{type:{name:"AutocompleteSuggestion"},name:"suggestion"}],return:{name:"void"}}},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},maxSuggestions:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"10",computed:!1}},value:{defaultValue:{value:"''",computed:!1},required:!1}},composes:["Omit"]};const V={title:"Form/Autocomplete",component:b,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{onChange:{action:"changed"},onSelect:{action:"selected"}}},q=[{value:"1",label:"USS Enterprise",type:"title"},{value:"2",label:"USS Voyager",type:"title"},{value:"3",label:"USS Defiant",type:"title"},{value:"4",label:"Deep Space 9",type:"url"}],p={args:{label:"SEARCH SHIP REGISTRY",placeholder:"Enter ship name...",suggestions:q,value:""}};var y,S,_;p.parameters={...p.parameters,docs:{...(y=p.parameters)==null?void 0:y.docs,source:{originalSource:`{
  args: {
    label: 'SEARCH SHIP REGISTRY',
    placeholder: 'Enter ship name...',
    suggestions: sampleSuggestions,
    value: ''
  }
}`,...(_=(S=p.parameters)==null?void 0:S.docs)==null?void 0:_.source}}};const $=["Default"];export{p as Default,$ as __namedExportsOrder,V as default};
